# é›†æˆæµ‹è¯•è·¯çº¿å›¾ - å›å¤åŠŸèƒ½

> é˜¶æ®µ: å•å…ƒæµ‹è¯•å®Œæˆ âœ… â†’ é›†æˆæµ‹è¯•å‡†å¤‡ä¸­ ğŸŸ¡
> æ›´æ–°æ—¶é—´: 2025-10-20
> çŠ¶æ€: å‡†å¤‡å°±ç»ªï¼Œå¯å¼€å§‹é›†æˆæµ‹è¯•

---

## ğŸ“‹ é›†æˆæµ‹è¯•æ¦‚è§ˆ

é›†æˆæµ‹è¯•æ—¨åœ¨éªŒè¯ä»¥ä¸‹ä¸‰å±‚ç³»ç»Ÿçš„åè°ƒå·¥ä½œï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Admin Web UI      â”‚ (åé¦ˆé”™è¯¯ã€å±•ç¤ºæˆåŠŸ)
â”‚  (React + Ant Design) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ Socket.IO
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Master Server     â”‚ (åè°ƒã€å­˜å‚¨ã€äº‹ä»¶å¤„ç†)
â”‚  (Node.js + SQLite)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ Socket.IO
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Worker Process     â”‚ (æµè§ˆå™¨è‡ªåŠ¨åŒ–)
â”‚ (Playwright + Node.js) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ é›†æˆæµ‹è¯•ç›®æ ‡

### ä¸»è¦ç›®æ ‡

1. **ç«¯åˆ°ç«¯æµç¨‹éªŒè¯**
   - ç¡®ä¿å›å¤è¯·æ±‚ä» Admin UI æˆåŠŸåˆ°è¾¾ Worker
   - éªŒè¯å›å¤ç»“æœä» Worker è¿”å›åˆ° Master
   - ç¡®ä¿é”™è¯¯é€šçŸ¥æ­£ç¡®å‘é€åˆ° Admin UI

2. **æ•°æ®æµå®Œæ•´æ€§**
   - è¯„è®º/ç§ä¿¡ ID ä¼ é€’æ­£ç¡®
   - å›å¤å†…å®¹å®Œæ•´æ— æŸ
   - é”™è¯¯ä¿¡æ¯å‡†ç¡®æè¿°

3. **çŠ¶æ€ç®¡ç†**
   - æˆåŠŸçš„å›å¤è®°å½•åˆ°æ•°æ®åº“
   - å¤±è´¥çš„å›å¤æ­£ç¡®åˆ é™¤æˆ–æ ‡è®°
   - å®¢æˆ·ç«¯æ”¶åˆ°æ­£ç¡®çš„æœ€ç»ˆçŠ¶æ€

4. **é”™è¯¯å¤„ç†å®Œæ•´æ€§**
   - å„ç§é”™è¯¯åœºæ™¯æ­£ç¡®åˆ†ç±»
   - é”™è¯¯ä¿¡æ¯æ­£ç¡®ä¼ æ’­
   - ç³»ç»Ÿä¸ä¼šå› é”™è¯¯å´©æºƒ

---

## ğŸ“Š æµ‹è¯•è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µ: ç¯å¢ƒå¯åŠ¨ (30 åˆ†é’Ÿ)

**ç›®æ ‡**: éªŒè¯å®Œæ•´ç³»ç»Ÿå¯æ­£å¸¸å¯åŠ¨

**æ­¥éª¤**:
```bash
# 1. å¯åŠ¨å®Œæ•´å¼€å‘ç¯å¢ƒ
npm run dev:all

# 2. éªŒè¯ä¸‰ä¸ªè¿›ç¨‹å‡å·²å¯åŠ¨
# - Master ç›‘å¬ :3000
# - Worker å·²è¿æ¥åˆ° Master
# - Admin ç›‘å¬ :3001

# 3. æ£€æŸ¥æ—¥å¿—ä¸­æ²¡æœ‰é”™è¯¯
```

**éªŒè¯ç‚¹**:
- [ ] Master æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ (port 3000)
- [ ] Worker è¿›ç¨‹å¯åŠ¨æˆåŠŸå¹¶æ³¨å†Œåˆ° Master
- [ ] Admin Web UI å¯è®¿é—® (port 3001)
- [ ] æ•°æ®åº“åˆå§‹åŒ–æˆåŠŸ
- [ ] Socket.IO è¿æ¥å»ºç«‹

**é¢„æœŸæ—¥å¿—**:
```
Master: Server listening on port 3000
Worker: Connected to master at localhost:3000
Worker: Platform manager initialized
Admin: Server running at http://localhost:3001
```

---

### ç¬¬äºŒé˜¶æ®µ: åŸºç¡€åŠŸèƒ½æµ‹è¯• (1 å°æ—¶)

**ç›®æ ‡**: éªŒè¯å•ä¸ªå›å¤åŠŸèƒ½çš„å®Œæ•´æµç¨‹

#### 2.1 è¯„è®ºå›å¤åŠŸèƒ½

**å‰ç½®æ¡ä»¶**:
- å·²ç™»å½•æœ‰æ•ˆçš„æŠ–éŸ³è´¦æˆ·
- æœ‰å¾…å›å¤çš„è¯„è®ºï¼ˆä½¿ç”¨å·²éªŒè¯çš„ comment_idï¼‰

**æµ‹è¯•æ­¥éª¤**:

1. **é€šè¿‡ API å‘é€å›å¤è¯·æ±‚**:
```bash
# æ–¹å¼ 1: ä½¿ç”¨ curl è°ƒç”¨ API
curl -X POST http://localhost:3000/api/replies \
  -H "Content-Type: application/json" \
  -d '{
    "account_id": "account-123",
    "target_id": "@j/comment-id-from-chrome-devtools",
    "reply_type": "comment",
    "reply_content": "æµ‹è¯•å›å¤å†…å®¹"
  }'
```

2. **ç›‘æ§æ§åˆ¶å°æ—¥å¿—**:
```
[Master] æ”¶åˆ°å›å¤è¯·æ±‚
[Master] åˆ†é…ä»»åŠ¡ç»™ Worker
[Worker] å¼€å§‹å›å¤è¯„è®º
[Worker] è¿”å›å›å¤ç»“æœ
[Master] å¤„ç†å›å¤ç»“æœ
[Master] é€šçŸ¥å®¢æˆ·ç«¯
```

3. **éªŒè¯æ•°æ®åº“çŠ¶æ€**:
```bash
# æŸ¥çœ‹å›å¤è¡¨
sqlite3 packages/master/data/master.db \
  "SELECT * FROM replies WHERE target_id = '@j/...' ORDER BY created_at DESC LIMIT 1;"
```

4. **é¢„æœŸç»“æœ**:
- âœ… æˆåŠŸ: æ•°æ®åº“æœ‰æ–°è®°å½•ï¼Œå­—æ®µå®Œæ•´
- âŒ å¤±è´¥: è¿”å›æ¸…æ™°çš„é”™è¯¯æ¶ˆæ¯ï¼ŒåŒ…å«åŸå› 

#### 2.2 ç§ä¿¡å›å¤åŠŸèƒ½

**å‰ç½®æ¡ä»¶**:
- æœ‰å¾…å›å¤çš„ç§ä¿¡ï¼ˆä½¿ç”¨å·²éªŒè¯çš„ message_idï¼‰
- ç§ä¿¡ ID æ ¼å¼: `0:1:account_id:timestamp`

**æµ‹è¯•æ­¥éª¤**:
```bash
# å‘é€ç§ä¿¡å›å¤è¯·æ±‚
curl -X POST http://localhost:3000/api/replies \
  -H "Content-Type: application/json" \
  -d '{
    "account_id": "account-123",
    "target_id": "0:1:106228603660:1810217601082548",
    "reply_type": "direct_message",
    "reply_content": "æµ‹è¯•ç§ä¿¡å›å¤"
  }'
```

**éªŒè¯ç‚¹**:
- [ ] è¯·æ±‚æˆåŠŸå“åº” (HTTP 200)
- [ ] è¿”å›å€¼åŒ…å« platform_reply_id
- [ ] æ•°æ®åº“è®°å½•æˆåŠŸåˆ›å»º
- [ ] Worker æ—¥å¿—æ˜¾ç¤ºå®Œæ•´æµç¨‹

---

### ç¬¬ä¸‰é˜¶æ®µ: é”™è¯¯å¤„ç†æµ‹è¯• (1 å°æ—¶)

**ç›®æ ‡**: éªŒè¯å„ç§é”™è¯¯åœºæ™¯å¤„ç†æ­£ç¡®

#### 3.1 è¢«æ‹¦æˆªçš„å›å¤ï¼ˆBlocked çŠ¶æ€ï¼‰

**æµ‹è¯•åœºæ™¯**:
1. **ç§å¯†ä½œå“/ç§å¯†è¯„è®º**
   - å°è¯•å›å¤è®¾ä¸ºç§å¯†çš„è§†é¢‘è¯„è®º
   - é¢„æœŸ: è¿”å› `status: 'blocked', reason: 'ç§å¯†ä½œå“æ— æ³•è¯„è®º'`

2. **ç”¨æˆ·è¢«ç¦ç”¨**
   - ä½¿ç”¨å·²è¢«å¹³å°ç¦ç”¨çš„è´¦æˆ·
   - é¢„æœŸ: è¿”å› `status: 'blocked', reason: 'ç”¨æˆ·å·²è¢«ç¦ç”¨'`

3. **é¢‘ç‡é™åˆ¶**
   - çŸ­æ—¶é—´å†…å‘é€å¤šä¸ªå›å¤
   - é¢„æœŸ: è¿”å› `status: 'blocked', reason: 'æ“ä½œè¿‡äºé¢‘ç¹'`

**éªŒè¯æ­¥éª¤**:
```bash
# æµ‹è¯•ç§å¯†ä½œå“
curl -X POST http://localhost:3000/api/replies \
  -d '{...,"target_id":"@j/private-video-comment",...}'

# æŸ¥çœ‹è¿”å›ç»“æœ
# {
#   "success": false,
#   "status": "blocked",
#   "reason": "ç§å¯†ä½œå“æ— æ³•è¯„è®º",
#   "data": { ... }
# }

# éªŒè¯æ•°æ®åº“: å¤±è´¥çš„å›å¤åº”è¢«åˆ é™¤
sqlite3 ... "SELECT COUNT(*) FROM replies WHERE target_id = '@j/private-video-comment';"
# Result: 0 (åº”è¯¥æ˜¯ 0ï¼Œå› ä¸ºè¢«æ‹¦æˆªçš„å›å¤ä¼šè¢«åˆ é™¤)
```

#### 3.2 æŠ€æœ¯é”™è¯¯ï¼ˆError çŠ¶æ€ï¼‰

**æµ‹è¯•åœºæ™¯**:
1. **æ— æ•ˆçš„è¯„è®º ID**
   - ä½¿ç”¨ä¸å­˜åœ¨çš„ comment_id
   - é¢„æœŸ: è¿”å› `status: 'error', reason: 'Comment not found'`

2. **ç½‘ç»œä¸­æ–­**
   - æ¨¡æ‹Ÿæµè§ˆå™¨æ— æ³•å¯¼èˆªåˆ°é¡µé¢
   - é¢„æœŸ: è¿”å› `status: 'error', reason: 'Navigation failed'`

3. **å…ƒç´ æœªæ‰¾åˆ°**
   - é¡µé¢ç»“æ„æ”¹å˜å¯¼è‡´é€‰æ‹©å™¨å¤±æ•ˆ
   - é¢„æœŸ: è¿”å› `status: 'error', reason: 'Reply input field not found'`

**éªŒè¯æ­¥éª¤**:
```bash
# æµ‹è¯•æ— æ•ˆ ID
curl -X POST http://localhost:3000/api/replies \
  -d '{...,"target_id":"@j/invalid-id-12345",...}'

# æŸ¥çœ‹ Worker æ—¥å¿—ä¸­çš„å®Œæ•´é”™è¯¯æ ˆ
# åº”è¯¥æ˜¾ç¤ºè¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ç”¨äºè°ƒè¯•
```

#### 3.3 æ•°æ®å®Œæ•´æ€§éªŒè¯

**æµ‹è¯•å†…å®¹**:
- [ ] æˆåŠŸå›å¤: æ‰€æœ‰å­—æ®µæ­£ç¡®ä¿å­˜
- [ ] å¤±è´¥å›å¤: è®°å½•è¢«åˆ é™¤æˆ–æ ‡è®°ä¸ºå¤±è´¥
- [ ] æ—¶é—´æˆ³: ISO 8601 æ ¼å¼ï¼Œæ—¶é—´å‡†ç¡®
- [ ] å¹³å° ID: æ ¼å¼æ­£ç¡®ï¼Œèƒ½è¿½æº¯æ¥æº

**éªŒè¯æŸ¥è¯¢**:
```bash
# æˆåŠŸå›å¤
sqlite3 ... "SELECT * FROM replies WHERE status = 'success' LIMIT 1;"

# å¤±è´¥è®°å½•ï¼ˆåº”è¯¥æ²¡æœ‰ï¼‰
sqlite3 ... "SELECT COUNT(*) FROM replies WHERE status = 'failed';"

# æ—¶é—´æˆ³æ ¼å¼éªŒè¯
sqlite3 ... "SELECT created_at FROM replies LIMIT 1;"
# åº”è¯¥æ˜¯: 2025-10-20T13:31:00.000Z è¿™æ ·çš„æ ¼å¼
```

---

### ç¬¬å››é˜¶æ®µ: ç³»ç»Ÿé›†æˆæµ‹è¯• (1 å°æ—¶)

**ç›®æ ‡**: éªŒè¯ä¸‰å±‚ç³»ç»Ÿçš„å®Œæ•´é›†æˆ

#### 4.1 Socket.IO é€šä¿¡é“¾è·¯

**æµ‹è¯•æ­¥éª¤**:

1. **Master ç«¯ Socket äº‹ä»¶ç›‘å¬**:
```javascript
// åœ¨ Master æœåŠ¡å™¨ä¸­æ·»åŠ æ—¥å¿—
socket.on('worker:reply:result', (data) => {
  console.log('æ”¶åˆ° Worker å›å¤ç»“æœ:', data);
});

socket.on('client:reply:request', (data) => {
  console.log('æ”¶åˆ°å®¢æˆ·ç«¯å›å¤è¯·æ±‚:', data);
});
```

2. **Worker ç«¯äº‹ä»¶å‘é€**:
```javascript
// Worker åœ¨ platform.js ä¸­
const result = await this.replyToComment(...);
this.workerBridge.socket.emit('worker:reply:result', {
  status: result.success ? 'success' : result.status,
  data: result.data
});
```

3. **éªŒè¯äº‹ä»¶æµ**:
- [ ] Admin UI å‘é€è¯·æ±‚
- [ ] Master æ”¶åˆ°è¯·æ±‚å¹¶åˆ†é…ç»™ Worker
- [ ] Worker å®Œæˆæ“ä½œå¹¶è¿”å›ç»“æœ
- [ ] Master å¤„ç†ç»“æœå¹¶é€šçŸ¥å®¢æˆ·ç«¯
- [ ] Admin UI æ”¶åˆ°é€šçŸ¥å¹¶æ›´æ–°ç•Œé¢

#### 4.2 å®¢æˆ·ç«¯é€šçŸ¥éªŒè¯

**æµ‹è¯•æ­¥éª¤**:

1. **æ‰“å¼€ Admin Web UI** (http://localhost:3001)

2. **å‘é€å›å¤è¯·æ±‚**
   - ä½¿ç”¨ UI ç•Œé¢æˆ– API å‘é€å›å¤

3. **è§‚å¯Ÿé€šçŸ¥**
   - æˆåŠŸ: æ˜¾ç¤º"å›å¤æˆåŠŸ"æç¤º
   - å¤±è´¥: æ˜¾ç¤ºå¯¹åº”çš„é”™è¯¯æ¶ˆæ¯

4. **éªŒè¯ç‚¹**:
- [ ] é€šçŸ¥åŠæ—¶å‡ºç°ï¼ˆ< 5 ç§’ï¼‰
- [ ] é”™è¯¯æ¶ˆæ¯æ¸…æ™°å‡†ç¡®
- [ ] é€šçŸ¥å†…å®¹ä¸æ•°æ®åº“çŠ¶æ€ä¸€è‡´

---

### ç¬¬äº”é˜¶æ®µ: å‹åŠ›æµ‹è¯• (30 åˆ†é’Ÿ)

**ç›®æ ‡**: éªŒè¯ç³»ç»Ÿåœ¨è´Ÿè½½ä¸‹çš„ç¨³å®šæ€§

#### 5.1 å¹¶å‘å›å¤æµ‹è¯•

```bash
# ä½¿ç”¨ Apache Bench æˆ– wrk è¿›è¡Œå‹åŠ›æµ‹è¯•
ab -n 100 -c 10 -p reply.json \
  -T application/json \
  http://localhost:3000/api/replies

# æˆ–ä½¿ç”¨ curl å¹¶å‘
for i in {1..10}; do
  curl -X POST http://localhost:3000/api/replies -d "{...}" &
done
wait
```

**éªŒè¯ç‚¹**:
- [ ] æ‰€æœ‰è¯·æ±‚éƒ½è¿”å›æœ‰æ•ˆå“åº”
- [ ] æ²¡æœ‰è¯·æ±‚è¶…æ—¶
- [ ] æ•°æ®åº“æ²¡æœ‰æŸå
- [ ] å†…å­˜ä½¿ç”¨åˆç†

#### 5.2 é•¿æœŸè¿è¡Œæµ‹è¯•

```bash
# è®©ç³»ç»Ÿè¿è¡Œ 30 åˆ†é’Ÿ
# é—´éš”å‘é€å›å¤è¯·æ±‚
# æ¯ 2 ç§’å‘é€ä¸€ä¸ªè¯·æ±‚

for i in {1..900}; do
  curl -X POST http://localhost:3000/api/replies -d "{...}"
  sleep 2
done
```

**éªŒè¯ç‚¹**:
- [ ] æ²¡æœ‰å†…å­˜æ³„æ¼
- [ ] æ²¡æœ‰æ•°æ®åº“é”å®šé—®é¢˜
- [ ] Socket è¿æ¥ä¿æŒæ­£å¸¸
- [ ] Worker è¿›ç¨‹æ­£å¸¸å·¥ä½œ

---

## ğŸ› ï¸ æµ‹è¯•å·¥å…·å’Œå‘½ä»¤

### å¯åŠ¨å®Œæ•´ç¯å¢ƒ

```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. å¯åŠ¨æ‰€æœ‰æœåŠ¡
npm run dev:all

# 3. åˆ†åˆ«å¯åŠ¨ï¼ˆå¦‚æœéœ€è¦å•ç‹¬æ§åˆ¶ï¼‰
# ç»ˆç«¯ 1: Master
cd packages/master && npm start

# ç»ˆç«¯ 2: Worker
cd packages/worker && npm start

# ç»ˆç«¯ 3: Admin
cd packages/admin-web && npm start
```

### æµ‹è¯•å·¥å…·

#### å‘½ä»¤è¡Œæµ‹è¯•
```bash
# è·å–æœ‰æ•ˆçš„è¯„è®º IDï¼ˆä» Chrome DevTools ä¸­å¤åˆ¶ï¼‰
COMMENT_ID="@j/comment-id-from-devtools"

# å‘é€å›å¤è¯·æ±‚
curl -X POST http://localhost:3000/api/replies \
  -H "Content-Type: application/json" \
  -d "{
    \"account_id\": \"account-123\",
    \"target_id\": \"$COMMENT_ID\",
    \"reply_type\": \"comment\",
    \"reply_content\": \"è¿™æ˜¯ä¸€ä¸ªé›†æˆæµ‹è¯•å›å¤\"
  }"
```

#### æ•°æ®åº“éªŒè¯
```bash
# æ£€æŸ¥å›å¤è¡¨
sqlite3 packages/master/data/master.db ".schema replies"

# æŸ¥è¯¢æœ€æ–°çš„å›å¤è®°å½•
sqlite3 packages/master/data/master.db \
  "SELECT id, target_id, reply_content, status, created_at FROM replies ORDER BY created_at DESC LIMIT 10;"

# æ£€æŸ¥å¤±è´¥çš„å›å¤ï¼ˆåº”è¯¥å¾ˆå°‘æˆ–æ²¡æœ‰ï¼‰
sqlite3 packages/master/data/master.db \
  "SELECT COUNT(*) as failed_count FROM replies WHERE status = 'blocked' OR status = 'error';"
```

#### æ—¥å¿—ç›‘æ§
```bash
# å®æ—¶æŸ¥çœ‹ Master æ—¥å¿—
tail -f packages/master/logs/master.log | grep -i reply

# å®æ—¶æŸ¥çœ‹ Worker æ—¥å¿—
tail -f packages/worker/logs/worker.log | grep -i reply

# æŸ¥çœ‹ç‰¹å®šè´¦æˆ·çš„æ—¥å¿—
grep "account-123" packages/worker/logs/worker.log
```

---

## ğŸ“‹ æµ‹è¯•æ£€æŸ¥æ¸…å•

### ç¯å¢ƒå‡†å¤‡
- [ ] Node.js 18.x LTS å·²å®‰è£…
- [ ] npm ä¾èµ–å·²å®‰è£…
- [ ] æ•°æ®åº“å·²åˆå§‹åŒ–
- [ ] æµè§ˆå™¨å·²ç™»å½•æŠ–éŸ³è´¦æˆ·
- [ ] æœ‰å¾…å›å¤çš„è¯„è®ºå’Œç§ä¿¡

### åŠŸèƒ½æµ‹è¯•
- [ ] è¯„è®ºå›å¤æˆåŠŸå®Œæˆ
- [ ] ç§ä¿¡å›å¤æˆåŠŸå®Œæˆ
- [ ] æˆåŠŸæ—¶æ•°æ®åº“è®°å½•å®Œæ•´
- [ ] å¤±è´¥æ—¶é”™è¯¯æ¶ˆæ¯æ¸…æ™°
- [ ] è¢«æ‹¦æˆªæ—¶çŠ¶æ€æ­£ç¡®æ ‡è®°

### é›†æˆæµ‹è¯•
- [ ] Socket.IO æ¶ˆæ¯ä¼ é€’æ­£ç¡®
- [ ] é”™è¯¯é€šçŸ¥åŠæ—¶åˆ°è¾¾å®¢æˆ·ç«¯
- [ ] ä¸‰å±‚ç³»ç»Ÿåè°ƒæ­£å¸¸
- [ ] æ²¡æœ‰æ¶ˆæ¯ä¸¢å¤±
- [ ] æ€§èƒ½æ»¡è¶³é¢„æœŸ

### ç¨³å®šæ€§æµ‹è¯•
- [ ] å¹¶å‘è¯·æ±‚å¤„ç†æ­£ç¡®
- [ ] é•¿æœŸè¿è¡Œä¸å‡ºç°å¼‚å¸¸
- [ ] å†…å­˜ä½¿ç”¨ä¿æŒç¨³å®š
- [ ] æ•°æ®åº“æ²¡æœ‰æŸå
- [ ] æ‰€æœ‰ Socket è¿æ¥æ­£å¸¸

---

## ğŸ“Š é¢„æœŸç»“æœ

### æˆåŠŸæŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡ | å¤‡æ³¨ |
|------|------|------|
| å•ä¸ªå›å¤æˆåŠŸç‡ | â‰¥ 99% | æ­£å¸¸åœºæ™¯ |
| é”™è¯¯æ£€æµ‹å‡†ç¡®ç‡ | â‰¥ 95% | å„ç§é”™è¯¯åœºæ™¯ |
| å¹³å‡å“åº”æ—¶é—´ | < 5s | å•ä¸ªå›å¤ |
| å¹¶å‘å¤„ç†èƒ½åŠ› | â‰¥ 10 req/s | ç¨³å®šæ€§ |
| ç³»ç»Ÿå¯ç”¨æ€§ | â‰¥ 99.5% | é•¿æœŸè¿è¡Œ |

### å¤±è´¥æ ‡å‡†

ä»¥ä¸‹ä»»ä½•ä¸€ç§æƒ…å†µéƒ½è¡¨ç¤ºæµ‹è¯•å¤±è´¥ï¼š
- âŒ å›å¤æˆåŠŸä½†æ•°æ®åº“æ²¡æœ‰è®°å½•
- âŒ é”™è¯¯æœªè¢«æ­£ç¡®åˆ†ç±»
- âŒ å®¢æˆ·ç«¯æ²¡æœ‰æ”¶åˆ°é€šçŸ¥
- âŒ ç³»ç»Ÿåœ¨å‹åŠ›ä¸‹å´©æºƒ
- âŒ æ•°æ®åº“æ•°æ®æŸå

---

## â±ï¸ æ—¶é—´è®¡åˆ’

```
Day 1 (ä»Šå¤©):
â”œâ”€ 14:00 - 14:30 ç¯å¢ƒå¯åŠ¨æµ‹è¯• (ç¬¬ä¸€é˜¶æ®µ)
â”œâ”€ 14:30 - 15:30 åŸºç¡€åŠŸèƒ½æµ‹è¯• (ç¬¬äºŒé˜¶æ®µ)
â”œâ”€ 15:30 - 16:30 é”™è¯¯å¤„ç†æµ‹è¯• (ç¬¬ä¸‰é˜¶æ®µ)
â”œâ”€ 16:30 - 17:30 ç³»ç»Ÿé›†æˆæµ‹è¯• (ç¬¬å››é˜¶æ®µ)
â””â”€ 17:30 - 18:00 å‹åŠ›æµ‹è¯• (ç¬¬äº”é˜¶æ®µ)

Day 2 (æ˜å¤©):
â”œâ”€ ä¿®å¤æ˜¨æ—¥å‘ç°çš„é—®é¢˜
â”œâ”€ è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
â”œâ”€ æ€§èƒ½ä¼˜åŒ–
â””â”€ å‡†å¤‡ç°åº¦å‘å¸ƒ

Day 3-5 (æœ¬å‘¨):
â”œâ”€ å›å½’æµ‹è¯•
â”œâ”€ ç°åº¦å‘å¸ƒå‡†å¤‡
â”œâ”€ ç›‘æ§ç³»ç»Ÿé…ç½®
â””â”€ ä¸Šçº¿å‰å‡†å¤‡
```

---

## ğŸ” å¸¸è§é—®é¢˜å’Œæ•…éšœæ’é™¤

### é—®é¢˜ 1: Worker æ— æ³•è¿æ¥åˆ° Master

**ç—‡çŠ¶**: Worker æ—¥å¿—ä¸­å‡ºç°è¿æ¥é”™è¯¯

**æ’æŸ¥æ­¥éª¤**:
```bash
# æ£€æŸ¥ Master æ˜¯å¦æ­£å¸¸è¿è¡Œ
curl http://localhost:3000/health

# æ£€æŸ¥é˜²ç«å¢™
netstat -ano | findstr :3000

# æ£€æŸ¥ Worker é…ç½®
cat packages/worker/.env | grep MASTER
```

**è§£å†³æ–¹æ¡ˆ**:
- ç¡®ä¿ Master å·²å¯åŠ¨
- ç¡®ä¿ç«¯å£ 3000 æœªè¢«å ç”¨
- æ£€æŸ¥ MASTER_HOST å’Œ MASTER_PORT é…ç½®

### é—®é¢˜ 2: å›å¤è¯·æ±‚æ— å“åº”

**ç—‡çŠ¶**: API è¯·æ±‚é•¿æ—¶é—´æ— è¿”å›

**æ’æŸ¥æ­¥éª¤**:
```bash
# æ£€æŸ¥ Worker æ—¥å¿—
tail -f packages/worker/logs/worker.log

# æ£€æŸ¥ Master äº‹ä»¶å¤„ç†
grep "reply" packages/master/logs/master.log
```

**è§£å†³æ–¹æ¡ˆ**:
- å¢åŠ è¶…æ—¶æ—¶é—´
- æ£€æŸ¥æµè§ˆå™¨è¿æ¥çŠ¶æ€
- æŸ¥çœ‹æ˜¯å¦æœ‰é¡µé¢å¯¼èˆªé”™è¯¯

### é—®é¢˜ 3: æ•°æ®åº“è®°å½•ç¼ºå¤±

**ç—‡çŠ¶**: æˆåŠŸçš„å›å¤æ²¡æœ‰ä¿å­˜åˆ°æ•°æ®åº“

**æ’æŸ¥æ­¥éª¤**:
```bash
# æ£€æŸ¥å›å¤è¡¨æ˜¯å¦å­˜åœ¨
sqlite3 packages/master/data/master.db ".tables"

# æ£€æŸ¥è¡¨ç»“æ„
sqlite3 packages/master/data/master.db ".schema replies"

# æŸ¥çœ‹æ˜¯å¦æœ‰æ’å…¥é”™è¯¯
sqlite3 packages/master/data/master.db ".log stdout" && curl -X POST ...
```

**è§£å†³æ–¹æ¡ˆ**:
- é‡æ–°åˆå§‹åŒ–æ•°æ®åº“
- æ£€æŸ¥ DAO ä»£ç 
- æŸ¥çœ‹ Master æ—¥å¿—ä¸­çš„æ•°æ®åº“é”™è¯¯

---

## ğŸ“š ç›¸å…³æ–‡ä»¶

- ğŸ“˜ [å›å¤åŠŸèƒ½å¼€å‘æŒ‡å—](./COMMENT_REPLY_DEVELOPMENT_GUIDE.md)
- ğŸ“— [é”™è¯¯å¤„ç†å®ç°](./ERROR_HANDLING_IMPLEMENTATION_SUMMARY.md)
- ğŸ“• [å•å…ƒæµ‹è¯•å®ŒæˆæŠ¥å‘Š](./UNIT_TESTING_COMPLETE.md)
- ğŸ““ [API å¿«é€Ÿå‚è€ƒ](./QUICK_API_REFERENCE.md)

---

## âœ… ç­¾ç½²

**é›†æˆæµ‹è¯•è·¯çº¿å›¾å®¡æ‰¹**:

| è§’è‰² | å®¡æ‰¹çŠ¶æ€ | æ—¥æœŸ |
|------|---------|------|
| å¼€å‘å·¥ç¨‹å¸ˆ | âœ… å‡†å¤‡å®Œæˆ | 2025-10-20 |
| æµ‹è¯•å·¥ç¨‹å¸ˆ | âœ… å¯å¼€å§‹æµ‹è¯• | 2025-10-20 |
| é¡¹ç›®ç»ç† | â³ ç­‰å¾…å®¡æ‰¹ | å¾…ç¡®è®¤ |

---

**é›†æˆæµ‹è¯•å‡†å¤‡å°±ç»ªï¼Œéšæ—¶å¯å¼€å§‹ï¼** ğŸš€

Generated with Claude Code | 2025-10-20
