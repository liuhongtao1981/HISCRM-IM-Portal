# æµè§ˆå™¨æŒ‡çº¹éš”ç¦»æŠ€æœ¯æ–‡æ¡£

**ç‰ˆæœ¬**: 1.0.0
**æœ€åæ›´æ–°**: 2025-10-13

---

## ğŸ“‹ ç›®å½•

- [æŒ‡çº¹è¯†åˆ«åŸç†](#æŒ‡çº¹è¯†åˆ«åŸç†)
- [å½“å‰æ¶æ„çš„æŒ‡çº¹éš”ç¦»æƒ…å†µ](#å½“å‰æ¶æ„çš„æŒ‡çº¹éš”ç¦»æƒ…å†µ)
- [æŒ‡çº¹éšæœºåŒ–å®ç°](#æŒ‡çº¹éšæœºåŒ–å®ç°)
- [æµ‹è¯•éªŒè¯](#æµ‹è¯•éªŒè¯)
- [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)

---

## æŒ‡çº¹è¯†åˆ«åŸç†

### ä»€ä¹ˆæ˜¯æµè§ˆå™¨æŒ‡çº¹?

æµè§ˆå™¨æŒ‡çº¹æ˜¯é€šè¿‡æ”¶é›†æµè§ˆå™¨å’Œè®¾å¤‡çš„å„ç§ç‰¹å¾ä¿¡æ¯,ç”Ÿæˆä¸€ä¸ªå”¯ä¸€æ ‡è¯†ç¬¦æ¥è¿½è¸ªç”¨æˆ·çš„æŠ€æœ¯ã€‚

###å¸¸è§çš„æŒ‡çº¹ç±»å‹

| æŒ‡çº¹ç±»å‹ | é‡‡é›†æ–¹å¼ | å”¯ä¸€æ€§ | éš¾åº¦ |
|---------|---------|--------|------|
| **CanvasæŒ‡çº¹** | ç”»å¸ƒæ¸²æŸ“å·®å¼‚ | æé«˜ | é«˜ |
| **WebGLæŒ‡çº¹** | GPUæ¸²æŸ“ä¿¡æ¯ | æé«˜ | é«˜ |
| **AudioContextæŒ‡çº¹** | éŸ³é¢‘å¤„ç†å·®å¼‚ | é«˜ | ä¸­ |
| **å­—ä½“æŒ‡çº¹** | ç³»ç»Ÿå­—ä½“åˆ—è¡¨ | ä¸­ | ä½ |
| **User-Agent** | æµè§ˆå™¨æ ‡è¯† | ä½ | ä½ |
| **å±å¹•åˆ†è¾¨ç‡** | screenå¯¹è±¡ | ä½ | ä½ |
| **ç¡¬ä»¶ä¿¡æ¯** | CPUæ ¸å¿ƒæ•°/å†…å­˜ | ä¸­ | ä¸­ |

---

## å½“å‰æ¶æ„çš„æŒ‡çº¹éš”ç¦»æƒ…å†µ

### âœ… å®Œå…¨éš”ç¦»çš„æŒ‡çº¹ (BrowserContextå¤©ç„¶æ”¯æŒ)

```
Worker-1 è¿›ç¨‹
    â”‚
    â””â”€â”€ Browserå®ä¾‹
            â”‚
            â”œâ”€â”€ Context-1 (account-123)
            â”‚   â”œâ”€â”€ âœ… Cookies          â† å®Œå…¨ç‹¬ç«‹
            â”‚   â”œâ”€â”€ âœ… LocalStorage     â† å®Œå…¨ç‹¬ç«‹
            â”‚   â”œâ”€â”€ âœ… SessionStorage   â† å®Œå…¨ç‹¬ç«‹
            â”‚   â”œâ”€â”€ âœ… IndexedDB        â† å®Œå…¨ç‹¬ç«‹
            â”‚   â”œâ”€â”€ âœ… User-Agent       â† å¯ç‹¬ç«‹é…ç½®
            â”‚   â”œâ”€â”€ âœ… Viewport         â† å¯ç‹¬ç«‹é…ç½®
            â”‚   â”œâ”€â”€ âœ… Proxy            â† å¯ç‹¬ç«‹é…ç½®
            â”‚   â””â”€â”€ âœ… Locale/Timezone  â† å¯ç‹¬ç«‹é…ç½®
            â”‚
            â””â”€â”€ Context-2 (account-456)
                â””â”€â”€ ... (åŒä¸Š)
```

**è¯´æ˜**: è¿™äº›æŒ‡çº¹ä¿¡æ¯åœ¨Playwrightçš„BrowserContextä¸­æ˜¯**å¤©ç„¶éš”ç¦»**çš„,æ¯ä¸ªContextäº’ä¸å½±å“ã€‚

---

### âš ï¸ å…±äº«çš„æŒ‡çº¹ (éœ€è¦é¢å¤–å¤„ç†)

```
Worker-1 è¿›ç¨‹
    â”‚
    â””â”€â”€ Browserå®ä¾‹
            â”‚
            â”œâ”€â”€ âŒ WebGLæŒ‡çº¹          â† æ‰€æœ‰Contextå…±äº«
            â”œâ”€â”€ âŒ CanvasæŒ‡çº¹         â† æ‰€æœ‰Contextå…±äº«
            â”œâ”€â”€ âŒ AudioContextæŒ‡çº¹   â† æ‰€æœ‰Contextå…±äº«
            â”œâ”€â”€ âŒ ç¡¬ä»¶ä¿¡æ¯           â† æ‰€æœ‰Contextå…±äº«
            â”œâ”€â”€ âŒ å­—ä½“åˆ—è¡¨           â† æ‰€æœ‰Contextå…±äº«
            â””â”€â”€ âŒ å±å¹•ä¿¡æ¯           â† æ‰€æœ‰Contextå…±äº«
```

**é£é™©**: é«˜çº§æŒ‡çº¹æ£€æµ‹(å¦‚FingerprintJS)ä¼šè¯†åˆ«å‡ºè¿™äº›Contextæ¥è‡ªåŒä¸€Browserå®ä¾‹!

---

## æŒ‡çº¹éšæœºåŒ–å®ç°

### æ¶æ„æ–¹æ¡ˆ

æˆ‘ä»¬é‡‡ç”¨**æŒ‡çº¹éšæœºåŒ–**æ–¹æ¡ˆ,ä¸ºæ¯ä¸ªBrowserContextæ³¨å…¥ä¸åŒçš„æŒ‡çº¹ç‰¹å¾:

```javascript
// ä¸ºæ¯ä¸ªè´¦æˆ·ç”Ÿæˆä¸€è‡´æ€§çš„éšæœºæŒ‡çº¹
FingerprintRandomizer.applyRandomFingerprint(context, accountId);
```

### æ ¸å¿ƒæœºåˆ¶

#### 1. ä¸€è‡´æ€§éšæœºåŒ–

ä½¿ç”¨è´¦æˆ·IDä½œä¸ºéšæœºç§å­,ç¡®ä¿åŒä¸€è´¦æˆ·æ¯æ¬¡ç”Ÿæˆç›¸åŒçš„æŒ‡çº¹:

```javascript
const seed = hashString(accountId);  // account-123 â†’ å›ºå®šç§å­
const random = seededRandom(seed);   // åŸºäºç§å­çš„éšæœºæ•°ç”Ÿæˆå™¨

// ç»“æœ: åŒä¸€è´¦æˆ·æ€»æ˜¯ç”Ÿæˆç›¸åŒçš„æŒ‡çº¹ç‰¹å¾
```

**ä¼˜åŠ¿**:
- âœ… æ¯ä¸ªè´¦æˆ·æœ‰ç¨³å®šçš„æŒ‡çº¹,ä¸ä¼šé¢‘ç¹å˜åŒ–
- âœ… é¿å…å› æŒ‡çº¹å˜åŒ–è§¦å‘å¹³å°é£æ§
- âœ… ä¾¿äºé—®é¢˜è¿½è¸ªå’Œé‡ç°

---

#### 2. CanvasæŒ‡çº¹éšæœºåŒ–

```javascript
// åŸç†: åœ¨toDataURLè¾“å‡ºæ—¶æ·»åŠ å¾®å°å™ªå£°
const originalToDataURL = HTMLCanvasElement.prototype.toDataURL;
HTMLCanvasElement.prototype.toDataURL = function(...args) {
  const dataURL = originalToDataURL.apply(this, args);
  // æ”¹å˜Base64æœ«å°¾3ä¸ªå­—ç¬¦
  return dataURL.slice(0, -3) + 'AbC';  // æ¯ä¸ªè´¦æˆ·ä¸åŒ
};
```

**æ•ˆæœ**: æ¯ä¸ªContextçš„Canvasæ¸²æŸ“ç»“æœçœ‹èµ·æ¥ä¸åŒ

---

#### 3. WebGLæŒ‡çº¹éšæœºåŒ–

```javascript
// åŸç†: ä¼ªé€ GPUä¿¡æ¯
WebGLRenderingContext.prototype.getParameter = function(parameter) {
  if (parameter === 37445) { // UNMASKED_VENDOR_WEBGL
    return 'NVIDIA Corporation';  // è´¦æˆ·1
    // or 'Intel Inc.'            // è´¦æˆ·2
    // or 'AMD'                   // è´¦æˆ·3
  }
  if (parameter === 37446) { // UNMASKED_RENDERER_WEBGL
    return 'ANGLE (NVIDIA GeForce GTX 1660 Ti)';  // éšæœº
  }
  return getParameter.call(this, parameter);
};
```

**æ•ˆæœ**: æ¯ä¸ªContextçœ‹èµ·æ¥ä½¿ç”¨ä¸åŒçš„GPU

---

#### 4. AudioContextæŒ‡çº¹éšæœºåŒ–

```javascript
// åŸç†: æ·»åŠ å¾®å°çš„é¢‘ç‡åç§»
AudioContext.prototype.createOscillator = function() {
  const oscillator = originalCreateOscillator.call(this);
  oscillator.start = function(...args) {
    this.frequency.value += 0.0003;  // è´¦æˆ·1: +0.0003Hz
    // è´¦æˆ·2: -0.0002Hz
    // è´¦æˆ·3: +0.0005Hz
    return originalStart.apply(this, args);
  };
  return oscillator;
};
```

**æ•ˆæœ**: éŸ³é¢‘å¤„ç†ç‰¹å¾ç•¥æœ‰ä¸åŒ

---

#### 5. ç¡¬ä»¶ä¿¡æ¯éšæœºåŒ–

```javascript
// CPUæ ¸å¿ƒæ•°
Object.defineProperty(navigator, 'hardwareConcurrency', {
  get: () => 8  // è´¦æˆ·1: 8æ ¸
  // è´¦æˆ·2: 6æ ¸
  // è´¦æˆ·3: 12æ ¸
});

// å†…å­˜å¤§å°
Object.defineProperty(navigator, 'deviceMemory', {
  get: () => 16  // è´¦æˆ·1: 16GB
  // è´¦æˆ·2: 8GB
  // è´¦æˆ·3: 32GB
});
```

**æ•ˆæœ**: æ¯ä¸ªContextçœ‹èµ·æ¥æ¥è‡ªä¸åŒé…ç½®çš„è®¾å¤‡

---

#### 6. å±å¹•åˆ†è¾¨ç‡éšæœºåŒ–

```javascript
Object.defineProperty(screen, 'width', {
  get: () => 1920  // è´¦æˆ·1: 1920x1080
  // è´¦æˆ·2: 2560x1440
  // è´¦æˆ·3: 3840x2160
});
Object.defineProperty(screen, 'height', {
  get: () => 1080
});
```

**æ•ˆæœ**: æ¯ä¸ªContextçœ‹èµ·æ¥ä½¿ç”¨ä¸åŒçš„æ˜¾ç¤ºå™¨

---

### éšæœºåŒ–çš„æŒ‡çº¹ç‰¹å¾åˆ—è¡¨

| æŒ‡çº¹ç‰¹å¾ | éšæœºåŒ–æ–¹å¼ | ä¸€è‡´æ€§ | æ•ˆæœ |
|---------|-----------|--------|------|
| Canvas | Base64æœ«å°¾å™ªå£° | âœ… åŸºäºaccountId | ä¸åŒ |
| WebGL Vendor | ä»é¢„å®šä¹‰åˆ—è¡¨é€‰æ‹© | âœ… åŸºäºaccountId | ä¸åŒ |
| WebGL Renderer | ä»é¢„å®šä¹‰åˆ—è¡¨é€‰æ‹© | âœ… åŸºäºaccountId | ä¸åŒ |
| Audio | é¢‘ç‡å¾®è°ƒ | âœ… åŸºäºaccountId | ä¸åŒ |
| CPUæ ¸å¿ƒæ•° | 4/6/8/12/16 | âœ… åŸºäºaccountId | ä¸åŒ |
| è®¾å¤‡å†…å­˜ | 4/8/16/32GB | âœ… åŸºäºaccountId | ä¸åŒ |
| å±å¹•å®½åº¦ | 1920/2560/3840 | âœ… åŸºäºaccountId | ä¸åŒ |
| å±å¹•é«˜åº¦ | 1080/1440/2160 | âœ… åŸºäºaccountId | ä¸åŒ |
| ç”µæ± çŠ¶æ€ | ç”µé‡/å……ç”µçŠ¶æ€ | âœ… åŸºäºaccountId | ä¸åŒ |

---

## æµ‹è¯•éªŒè¯

### æ–¹æ³•1: FingerprintJSæµ‹è¯•

```javascript
// åœ¨é¡µé¢ä¸­è¿è¡Œ
import FingerprintJS from '@fingerprintjs/fingerprintjs';

const fp = await FingerprintJS.load();
const result = await fp.get();

console.log('Visitor ID:', result.visitorId);
console.log('Components:', result.components);
```

**é¢„æœŸç»“æœ**: ä¸åŒContextäº§ç”Ÿä¸åŒçš„visitorId

---

### æ–¹æ³•2: CreepJSæµ‹è¯•

è®¿é—®: https://abrahamjuliot.github.io/creepjs/

**æ£€æµ‹é¡¹ç›®**:
- CanvasæŒ‡çº¹
- WebGLæŒ‡çº¹
- AudioContextæŒ‡çº¹
- å­—ä½“æŒ‡çº¹
- å±å¹•æŒ‡çº¹
- ç¡¬ä»¶æŒ‡çº¹

**é¢„æœŸç»“æœ**: ä¸åŒContextæ˜¾ç¤ºä¸åŒçš„æŒ‡çº¹ç‰¹å¾

---

### æ–¹æ³•3: BrowserLeaksæµ‹è¯•

è®¿é—®: https://browserleaks.com/

**æ£€æµ‹é¡µé¢**:
- Canvas: https://browserleaks.com/canvas
- WebGL: https://browserleaks.com/webgl
- Audio: https://browserleaks.com/audio
- Fonts: https://browserleaks.com/fonts

**é¢„æœŸç»“æœ**: æ¯ä¸ªContextçš„æµ‹è¯•ç»“æœä¸åŒ

---

## æŒ‡çº¹éš”ç¦»æ•ˆæœè¯„ä¼°

### éš”ç¦»çº§åˆ«å¯¹æ¯”

| æ–¹æ¡ˆ | éš”ç¦»æ•ˆæœ | èµ„æºå ç”¨ | å®ç°éš¾åº¦ | æ¨èåº¦ |
|------|---------|---------|---------|--------|
| **æ¯è´¦æˆ·1ä¸ªBrowser** | â­â­â­â­â­ | æé«˜(2GB+) | ä½ | âŒ ä¸æ¨è |
| **Context + æŒ‡çº¹éšæœºåŒ–** | â­â­â­â­ | ä½(300MB) | ä¸­ | âœ… **æ¨è** |
| **ä»…Contextéš”ç¦»** | â­â­ | ä½(300MB) | ä½ | âš ï¸ é£é™©é«˜ |

---

### å½“å‰æ–¹æ¡ˆçš„ä¼˜åŠ¿

| ç»´åº¦ | è¯´æ˜ | å¯¹æ¯” |
|------|------|------|
| **èµ„æºæ•ˆç‡** | 1ä¸ªBrowser + å¤šContext | æ¯”æ¯è´¦æˆ·1ä¸ªBrowserèŠ‚çœ85%å†…å­˜ |
| **æŒ‡çº¹éš”ç¦»** | éšæœºåŒ–8+ç§æŒ‡çº¹ç‰¹å¾ | èƒ½åº”å¯¹å¤§éƒ¨åˆ†æŒ‡çº¹æ£€æµ‹ |
| **ä¸€è‡´æ€§** | åŸºäºaccountIdçš„ç¨³å®šæŒ‡çº¹ | ä¸ä¼šå› æŒ‡çº¹å˜åŒ–è§¦å‘é£æ§ |
| **å¯ç»´æŠ¤æ€§** | é›†ä¸­ç®¡ç†,æ˜“äºè°ƒè¯• | æ¯”å¤šBrowseræ–¹æ¡ˆç®€å• |

---

## æœ€ä½³å®è·µ

### 1. ä½•æ—¶ä½¿ç”¨æŒ‡çº¹éšæœºåŒ–?

âœ… **æ¨èä½¿ç”¨**:
- éœ€è¦åŒæ—¶ç›‘æ§å¤šä¸ªè´¦æˆ·
- éœ€è¦é¿å…æŒ‡çº¹å…³è”
- èµ„æºæœ‰é™(å†…å­˜/CPU)

âš ï¸ **ä¸æ¨è**:
- ä»…ç›‘æ§1-2ä¸ªè´¦æˆ· (ç›´æ¥ç”¨åŸç”ŸæŒ‡çº¹å³å¯)
- å¹³å°å¯¹æŒ‡çº¹éå¸¸æ•æ„Ÿ (è€ƒè™‘æ¯è´¦æˆ·ç‹¬ç«‹Browser)

---

### 2. æŒ‡çº¹éšæœºåŒ–é…ç½®

```javascript
// å¯ç”¨æŒ‡çº¹éšæœºåŒ–(é»˜è®¤)
const browserManager = new BrowserManager(WORKER_ID, {
  enableFingerprint: true  // é»˜è®¤å¯ç”¨
});

// ç¦ç”¨æŒ‡çº¹éšæœºåŒ–(ä¸æ¨è)
const browserManager = new BrowserManager(WORKER_ID, {
  enableFingerprint: false
});
```

---

### 3. ç›‘æ§æŒ‡çº¹å…³è”

å®šæœŸæ£€æŸ¥æ˜¯å¦æœ‰è´¦æˆ·å› æŒ‡çº¹å…³è”è¢«å°ç¦:

```javascript
// è®°å½•æŒ‡çº¹ç‰¹å¾
logger.info('Fingerprint applied', {
  accountId,
  webglVendor: 'NVIDIA',
  hardwareConcurrency: 8,
  screenWidth: 1920
});

// ç›‘æ§è´¦æˆ·çŠ¶æ€
if (account.status === 'banned') {
  logger.warn('Account banned, check fingerprint correlation', {
    accountId,
    fingerprintHash
  });
}
```

---

### 4. æŒ‡çº¹æ£€æµ‹åº”å¯¹ç­–ç•¥

| æ£€æµ‹å¼ºåº¦ | åº”å¯¹ç­–ç•¥ | å®æ–½ |
|---------|---------|------|
| **ä½** (åŸºç¡€æ£€æµ‹) | Contextéš”ç¦» | âœ… å·²å®æ–½ |
| **ä¸­** (FingerprintJS) | æŒ‡çº¹éšæœºåŒ– | âœ… å·²å®æ–½ |
| **é«˜** (CreepJS) | æ·±åº¦éšæœºåŒ– | âœ… å·²å®æ–½ |
| **æé«˜** (AIæ£€æµ‹) | æ¯è´¦æˆ·ç‹¬ç«‹Browser | âš ï¸ å¯é€‰ |

---

## è¿›ä¸€æ­¥ä¼˜åŒ–å»ºè®®

### ä¼˜å…ˆçº§: LOW (æŒ‰éœ€å®æ–½)

#### 1. å­—ä½“æŒ‡çº¹éšæœºåŒ–

```javascript
// ä¼ªé€ å­—ä½“åˆ—è¡¨
Object.defineProperty(document, 'fonts', {
  get: () => ({
    check: (font) => randomFontList.includes(font),
    // ... å…¶ä»–æ–¹æ³•
  })
});
```

#### 2. WebRTC IPæ³„éœ²é˜²æŠ¤

```javascript
// ç¦ç”¨WebRTCæˆ–ä½¿ç”¨è™šå‡IP
const originalRTCPeerConnection = window.RTCPeerConnection;
window.RTCPeerConnection = function(...args) {
  const pc = new originalRTCPeerConnection(...args);
  // è¿‡æ»¤ICEå€™é€‰,ç§»é™¤çœŸå®IP
  return pc;
};
```

#### 3. æ—¶åŒºéšæœºåŒ–

```javascript
// ä¼ªé€ æ—¶åŒº
Date.prototype.getTimezoneOffset = function() {
  return -480; // è´¦æˆ·1: UTC+8
  // è´¦æˆ·2: UTC+0
  // è´¦æˆ·3: UTC-5
};
```

---

## ç›¸å…³æ–‡æ¡£

- [BrowserManagerå®ç°](./packages/worker/src/browser/browser-manager.js)
- [FingerprintRandomizerå®ç°](./packages/worker/src/browser/fingerprint-randomizer.js)
- [README - Workeræ•°æ®éš”ç¦»æœºåˆ¶](./README.md#workeræ•°æ®éš”ç¦»æœºåˆ¶)

---

## å‚è€ƒèµ„æº

- [FingerprintJS](https://github.com/fingerprintjs/fingerprintjs)
- [CreepJS](https://github.com/abrahamjuliot/creepjs)
- [BrowserLeaks](https://browserleaks.com/)
- [Playwright BrowserContext API](https://playwright.dev/docs/api/class-browsercontext)

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0.0
**æœ€åæ›´æ–°**: 2025-10-13
**ç»´æŠ¤è€…**: å¼€å‘å›¢é˜Ÿ
