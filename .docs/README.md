# HisCrm-IM 文档导航

> 欢迎查阅 HisCrm-IM 系统完整文档！

---

## 📚 快速导航

### 🎯 **首先阅读**

| 文档 | 说明 | 时间 |
|------|------|------|
| **[系统文档总索引](./00-系统文档总索引.md)** | 📍 所有文档的导航中心，**从这里开始** | 5分钟 |
| **[快速参考](./快速参考-系统文档.md)** | ⚡ 速查表，快速定位信息 + 启动命令 | 随时查 |

---

## 📖 系统完整文档

### 前端 - Admin Web 模块

| 文档 | 内容 | 大小 |
|------|------|------|
| **[Admin Web 系统文档](./01-ADMIN-WEB-系统文档.md)** | 前端管理后台完整设计：<br/>• 系统概述和技术栈<br/>• 架构设计和目录结构<br/>• 5 个核心功能模块<br/>• Socket.IO 实时通信<br/>• REST API 调用<br/>• 完整数据流<br/>• 状态管理<br/>• 部署说明 | 23KB |

### 后端 - Master 模块

| 文档 | 内容 | 大小 |
|------|------|------|
| **[Master 系统文档](./02-MASTER-系统文档.md)** | 中央协调服务器完整设计：<br/>• 系统概述和职责定位<br/>• 内部架构设计<br/>• 5 个核心模块详解<br/>• 8 个数据库表设计<br/>• 3 个 Socket 命名空间<br/>• 完整 HTTP API<br/>• 4 个业务流程<br/>• PM2 部署说明 | 25KB |

### 爬虫 - Worker 模块

| 文档 | 内容 | 大小 |
|------|------|------|
| **[Worker 系统文档 (上)](./03-WORKER-系统文档-第一部分.md)** | 浏览器自动化架构设计：<br/>• 系统概述和职责<br/>• 内部架构和目录结构<br/>• 5 个核心模块<br/>• **多 Browser 架构** (重点)<br/>• 平台系统设计<br/>• 代码实现示例 | 24KB |
| **[Worker 系统文档 (下)](./04-WORKER-系统文档-第二部分.md)** | 任务管理和部署运维：<br/>• 任务执行器详解<br/>• 14 个 Socket 事件<br/>• 数据存储机制<br/>• 错误处理和重试<br/>• 监控和维护<br/>• 常见问题解决<br/>• 性能优化建议<br/>• 安全建议 | 17KB |

### 平台实现 - 核心平台细节

| 文档 | 内容 | 大小 |
|------|------|------|
| **[Worker 平台扩展指南](./05-WORKER-平台扩展指南.md)** | 添加新平台的完整指南：<br/>• 平台系统设计和工作原理<br/>• 3 步快速实现新平台<br/>• 完整代码模板<br/>• 必须实现的方法列表<br/>• 继承自 PlatformBase 的公共方法<br/>• 测试和验证步骤<br/>• 常见问题和优化 | 25KB |
| **[抖音平台实现细节](./06-DOUYIN-平台实现技术细节.md)** | 抖音平台核心实现技术：<br/>• **登录实现** - 二维码/短信验证码/智能检测<br/>• **评论爬取** - API 拦截 + DOM 回退<br/>• **私信爬取** - 网络监听和数据解析<br/>• **增量检测** - 变化对比和通知机制<br/>• **故障排除** - 常见问题和调试技巧 | 23KB |

### 功能模块 - 回复功能

| 文档 | 内容 | 大小 |
|------|------|------|
| **[回复功能设计文档](./08-REPLY-回复功能设计文档.md)** | 回复功能（评论 + 私信）完整设计方案：<br/>• 业务场景和核心原则<br/>• 三维身份识别（platform, account, target）<br/>• 完整数据流设计<br/>• 数据库表结构和索引<br/>• 协议设计（客户端-Master-Worker）<br/>• 幂等性防护设计（三重防护）<br/>• 实现指南和测试方案 | 23KB |
| **[回复功能实现进展](./09-REPLY-实现进展总结.md)** | 回复功能开发进展总结：<br/>• ✅ 已完成：框架设计和基础实现<br/>  - 数据库迁移和 DAO 层<br/>  - Master API 和 Socket 事件处理<br/>  - Worker ReplyExecutor 和平台接口<br/>• ⏳ 待实现：平台特定代码<br/>  - 抖音平台（评论 + 私信）<br/>  - 小红书平台（评论 + 私信）<br/>• 完整流程图和性能指标 | 13KB |
| **[平台实现快速开始](./10-REPLY-平台实现快速开始.md)** | 实现回复功能平台模块的快速指南：<br/>• 方法签名和输入输出说明<br/>• 实现基本框架代码模板<br/>• 抖音平台实现示例<br/>• 常见问题和解决方案<br/>• 本地测试脚本<br/>• 最佳实践和反爬虫对策 | 16KB |
| **[平台接口框架完成](./11-REPLY-平台接口框架完成.md)** | 抖音和小红书平台接口框架完成总结：<br/>• ✅ 抖音平台回复接口框架<br/>• ✅ 小红书平台完整框架<br/>• 框架代码示例和说明<br/>• 下一步行动指南<br/>• 系统现状和可用性<br/>• 测试准备和学习资源 | 12KB |

### 架构改进 - 配置系统

| 文档 | 内容 | 大小 |
|------|------|------|
| **[共享路径配置系统](./15-共享路径配置系统.md)** | Master 和 Worker 统一的路径配置解决方案：<br/>• 共享配置模块设计 (packages/shared/config/paths.js)<br/>• 单一数据源原则 (Single Source of Truth)<br/>• Master 平台 API 集成<br/>• Worker 平台管理器集成<br/>• 路径一致性验证<br/>• 后续扩展建议<br/>• 测试验证方法 | 14KB |
| **[Shared 库架构说明](./16-shared-库架构说明.md)** | 整个系统的共享库统一设计：<br/>• Shared 库模块结构（config、utils、protocol、models）<br/>• 各模块间依赖关系图<br/>• 四大核心模块详解<br/>• Master/Worker 实际集成示例<br/>• Shared 库的四大优势<br/>• 最佳实践和代码示例<br/>• 未来改进空间 | 16KB |

### 开发工具和调试

| 文档 | 内容 | 大小 |
|------|------|------|
| **[Worker 爬虫调试指南](./07-WORKER-爬虫调试指南.md)** | 实践调试 Playwright 爬虫脚本的完整指南：<br/>• **方案 A（推荐）** - 本地交互式调试<br/>  - 创建调试脚本模板<br/>  - 快速验证选择器和 DOM<br/>  - 测试数据提取逻辑<br/>  - 调试 React Fiber 访问<br/>• **方案 B** - 远程 DevTools 连接<br/>• 5 个常见调试场景 + 解决方案<br/>• 最佳实践和技巧<br/>• 常见问题 FAQ | 18KB |

### 核心概念

系统架构和核心流程已完整集成到新的系统文档中：
- [系统文档总索引](./00-系统文档总索引.md) → 系统架构图、通信流程
- [快速参考](./快速参考-系统文档.md) → 系统架构一览、通信协议速查

---

## 🎯 按需求快速查找

### 我是新手开发者

1. **了解系统** (15分钟)
   - 读: [系统文档总索引](./00-系统文档总索引.md) → "系统架构一览"
   - 看: 架构图和通信流程图

2. **本地部署** (30分钟)
   - 读: [快速参考](./快速参考-系统文档.md) → "快速启动命令"
   - 或各模块文档的"部署说明"

3. **跟踪一个流程** (20分钟)
   - 读: [系统文档总索引](./00-系统文档总索引.md) → "账户登录流程"

### 我需要修复一个 Bug

1. **找出 Bug 所在模块**
   - Admin Web (前端)? → [01-ADMIN-WEB-系统文档](./01-ADMIN-WEB-系统文档.md)
   - Master (后端)? → [02-MASTER-系统文档](./02-MASTER-系统文档.md)
   - Worker (爬虫)? → [03/04-WORKER 系统文档](./03-WORKER-系统文档-第一部分.md)

2. **快速查找代码位置**
   - 查: [快速参考](./快速参考-系统文档.md) → "关键文件位置"

3. **理解相关流程**
   - 查: 模块文档中的"业务流程"部分

### 我需要添加新功能

**UI 新增功能?**
- 查: [01-ADMIN-WEB-系统文档](./01-ADMIN-WEB-系统文档.md) → "页面说明"

**数据库新增表?**
- 查: [02-MASTER-系统文档](./02-MASTER-系统文档.md) → "数据库设计"

**支持新平台?**
- 查: [05-Worker 平台扩展指南](./05-WORKER-平台扩展指南.md) ← **从这里开始**
- 进阶: [03-WORKER 系统文档](./03-WORKER-系统文档-第一部分.md) → "平台系统"

**参考抖音平台实现?**
- 查: [06-抖音平台实现细节](./06-DOUYIN-平台实现技术细节.md) → 完整技术实现

**新的爬虫功能?**
- 查: [04-WORKER 系统文档](./04-WORKER-系统文档-第二部分.md) → "任务管理"

### 我需要部署到生产环境

- Master: [02-MASTER-系统文档](./02-MASTER-系统文档.md) → "部署说明"
- Worker: [04-WORKER 系统文档](./04-WORKER-系统文档-第二部分.md) → "部署运维"
- Admin Web: [01-ADMIN-WEB-系统文档](./01-ADMIN-WEB-系统文档.md) → "部署说明"

### 我有个问题需要快速解答

→ 查: [快速参考](./快速参考-系统文档.md) → "常见问题速查"

---

## 📁 文档结构

```
.docs/
├── 00-系统文档总索引.md              ← 📍 导航中心
├── 01-ADMIN-WEB-系统文档.md          ← 🎨 前端文档
├── 02-MASTER-系统文档.md             ← 🔧 后端文档
├── 03-WORKER-系统文档-第一部分.md    ← 🤖 架构设计
├── 04-WORKER-系统文档-第二部分.md    ← 🤖 部署运维
├── 05-WORKER-平台扩展指南.md         ← 🆕 平台扩展
├── 06-DOUYIN-平台实现技术细节.md     ← 🆕 抖音实现
├── 07-WORKER-爬虫调试指南.md         ← 🔧 调试指南
│
├── 08-REPLY-回复功能设计文档.md      ← ✨ 回复功能设计
├── 09-REPLY-实现进展总结.md          ← ✨ 回复实现进度
├── 10-REPLY-平台实现快速开始.md      ← ✨ 回复平台快速开始
├── 11-REPLY-平台接口框架完成.md      ← ✨ 回复框架完成
│
├── 15-共享路径配置系统.md            ← 🏗️  架构: 路径配置
├── 16-shared-库架构说明.md           ← 🏗️  架构: 库设计
├── 17-部署指南-环境配置系统.md        ← 🚀 部署指南
├── 项目结构说明.md                   ← 📁 项目结构
├── 快速参考-系统文档.md               ← ⚡ 速查表
├── README.md                         ← 本文件
├── architecture/                     ← 架构文档
├── _archived/                        ← 历史文档 (46 个)
└── archive/                          ← 旧归档
```

---

## 💡 文档更新日志

| 日期 | 更新内容 |
|------|---------|
| 2025-10-20 | ✅ 完成文档整理和架构优化<br/>  - 统一回复功能文档体系<br/>  - 统一配置系统和部署指南<br/>  - 新增项目结构说明文档<br/>  - 创建 packages/config 配置管理模块<br/>  - 版本升至 2.5.0 |
| 2025-10-20 | 🏗️ 实现完整的环境感知配置系统<br/>  - 三层配置优先级系统 (环境变量 > config.json > 默认值)<br/>  - 新增 17-部署指南-环境配置系统.md (600+ 行)<br/>  - 支持 5+ 种部署场景 (开发/测试/生产/Docker/Kubernetes) |
| 2025-10-20 | 🏗️ 架构改进：Shared 库和路径配置<br/>  - 新增 15-共享路径配置系统.md 和 16-shared-库架构说明.md<br/>  - 实现统一路径配置系统<br/>  - Master 和 Worker 一致性验证 |
| 2025-10-20 | ✨ 完成回复功能框架实现<br/>  - 数据库表、DAO 层、API 端点、Socket 事件<br/>  - Worker ReplyExecutor 框架<br/>  - 平台接口定义<br/>  - Douyin/XiaoHongShu 框架完成 |
| 2025-10-18 | 创建完整系统文档体系<br/>  - 8 个核心系统文档<br/>  - 4 个回复功能文档<br/>  - 2 个架构改进文档<br/>  - 总计 134KB+ 文档 |

---

## ✨ 文档特色

✓ **系统化** - 按 admin/master/worker 模块分类
✓ **完整性** - 包含架构、代码、流程、部署全方位
✓ **易查找** - 总索引 + 速查表 + 场景导航
✓ **代码示例** - 每个模块都有代码实现示例
✓ **流程图** - 数据流、通信流程、架构图
✓ **可检索** - 索引完整，支持快速定位
✓ **有组织** - 核心和历史文档分离

---

## 🚀 快速命令

```bash
# 查看总索引
cat 00-系统文档总索引.md

# 查看快速参考
cat 快速参考-系统文档.md

# 查看各模块文档
cat 01-ADMIN-WEB-系统文档.md
cat 02-MASTER-系统文档.md
cat 03-WORKER-系统文档-第一部分.md
cat 04-WORKER-系统文档-第二部分.md

# 查看平台实现文档
cat 05-WORKER-平台扩展指南.md
cat 06-DOUYIN-平台实现技术细节.md
```

---

**版本**: 2.5.0 | **最后更新**: 2025-10-20 | **总文档**: 17 份核心文档 + 49 份归档 = 66 份

🎉 **现在拥有一套完整的、专业的、多层次的系统文档体系！**
- 📚 系统级文档 (4 份) - 了解整体架构
- ✨ 功能级文档 (4 份) - 回复功能完整体系
- 🆕 平台级文档 (2 份) - 平台扩展和实现细节
- 🏗️ 架构改进 (3 份) - 配置系统、路径管理、库设计
- 🔧 工具和参考 (4 份) - 调试指南、部署、项目结构、速查表
- ⚡ 参考文档 (2 份) - 快速导航和问题查找
- 📦 归档文档 (46 份) - 历史记录和详细细节
